# Node Environment
NODE_ENV=production

# Server Configuration
PORT=3000
BASE_URL=https://api.sevra.ir
TRUST_PROXY=1
DOMAIN=sevra.ir

# Database (PostgreSQL) - Use strong password!
DATABASE_URL=postgresql://sevra_prod:strong_password@prod-db-host:5432/sevra_atlas?schema=public

# Redis Configuration - REDIS_PASSWORD is REQUIRED in production
REDIS_URL=redis://redis-cache:6379
REDIS_QUEUE_URL=redis://redis-queue:6379
REDIS_PASSWORD=change_this_to_strong_redis_password

# Auth & JWT - Generate strong secrets!
JWT_ACCESS_SECRET=
JWT_REFRESH_SECRET=
JWT_ACCESS_TTL=900
JWT_REFRESH_TTL=2592000

# Session & Admin - Use separate strong secrets!
SESSION_SECRET=
ADMIN_COOKIE_PASSWORD=
ADMIN_SESSION_SECRET=

# OTP Configuration
OTP_TTL_SECONDS=120
OTP_MAX_ATTEMPTS=3
OTP_RATE_LIMIT_PER_PHONE=3
OTP_RATE_LIMIT_PER_IP=10

# SMS Providers (kavenegar or smsir)
SMS_PROVIDER=kavenegar
SMS_API_KEY=

# Storage Configuration (local or s3)
STORAGE_PROVIDER=s3
STORAGE_UPLOAD_DIR=uploads
MAX_UPLOAD_SIZE_BYTES=10485760

# S3 Configuration
S3_ENDPOINT=
S3_REGION=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET=
S3_PUBLIC_URL=

# Security Settings
BCRYPT_ROUNDS=12
GLOBAL_RATE_LIMIT_MAX=100
GLOBAL_RATE_LIMIT_WINDOW_S=60
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000

# CORS Settings
ALLOWED_ORIGINS=https://sevra.ir,https://admin.sevra.ir
CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOW_CREDENTIALS=true

# Worker Configuration
IS_WORKER=false
ENABLE_ASYNC_WORKERS=true
QUEUE_CONCURRENCY=4
QUEUE_LIMIT_MAX=20
QUEUE_LIMIT_DURATION=1000

# Logging & Monitoring
LOG_LEVEL=info

# Email
EMAIL=admin@sevra.ir
